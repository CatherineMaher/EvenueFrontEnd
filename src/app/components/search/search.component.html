<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./search.component.css">
  <title>Document</title>
</head>

<body>
  <div class="container">
    <div class="row bg-danger h-75">
      <div class="col-12 text-center p-3">
        <div class="input-group justify-content-center">
          <div class="form-outline d-flex align-items-center w-50" data-mdb-input-init>
            <!-- <label class="form-label mx-3" for="form1">Search</label> -->
            <input id="search-input" type="search" [(ngModel)]="name" id="form1" class="form-control px-3 w-100"
              placeholder="Search" />
          </div>
          <button id="search-button" type="button" class="btn btn-primary search" (click)="regSearch()">
            <!-- <i class="fas fa-search"></i> -->
            Search
          </button>
        </div>
        <div class="row justify-content-center mt-3">
          <!-- <div class="col-2">
            <input class="form-control" list="datalistOptions" id="exampleDataList"
              placeholder="search By Cateigory...">
            <datalist id="datalistOptions">
              <option value="San Francisco">
              <option value="New York">
              <option value="Seattle">
              <option value="Los Angeles">
              <option value="Chicago">
            </datalist>
          </div> -->
          <div class="col-md-2">
            <input class="form-control" [(ngModel)]="price" list="datalistOptions" id="exampleDataList"
              placeholder="search By Price ...">
            <datalist id="datalistOptions">
              <option value="San Francisco">
              <option value="New York">
              <option value="Seattle">
              <option value="Los Angeles">
              <option value="Chicago">
            </datalist>
          </div>
          <div class="col-md-2">
            <input class="form-control" [(ngModel)]="location" list="datalistOptions" id="exampleDataList"
              placeholder="search By Location...">
            <datalist id="datalistOptions">
              <option value="San Francisco">
              <option value="New York">
              <option value="Seattle">
              <option value="Los Angeles">
              <option value="Chicago">
            </datalist>
          </div>
          <div class="col-md-2">
            <input class="form-control" list="datalistOptions" id="exampleDataList" placeholder="search By Date ...">
            <!-- <datalist id="datalistOptions">
              <option value="San Francisco">
              <option value="New York">
              <option value="Seattle">
              <option value="Los Angeles">
              <option value="Chicago">
            </datalist> -->
          </div>

        </div>
      </div>

    </div>
    <!-- <div class="row mt-5">
        <div class="card" style="width: 18rem;">
          <img class="card-img-top" src="..." alt="Card image cap">
          <div class="card-body">
            <h5 class="card-title">Card title</h5>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
              content.</p>
            <a href="#" class="btn btn-primary">Go somewhere</a>
          </div>
        </div>

      </div> -->
    <div class="row justify-content-around">
      <!-- @for (event of events;let i $index) { -->
      @if(!name){
      <div *ngFor="let event of events; let i = index" class="profile-card-6 col-md-5 col-lg-3 col-9 m-2 mt-4  "><img
          src="../../../assets/imgs/event1.jpg" class="img img-responsive h-100 ">
        <div class="profile-name">{{event.title}}
          <br>{{event.location}}
        </div>
        <div class="profile-position">{{event.organizer}}</div>
        <div class="profile-overview">
          <div class="profile-overview ">
            <div class="row text-center ">
              <!-- @if(event.tickets?.[i]?.totalTickets){ -->
              <div *ngIf="event.tickets?.length != 0">

                <div class="col-xs-4">
                  <!-- @if(event.tickets?.[i+1]?.totalTickets==undefined){i--;} -->
                  <h3>{{event.tickets?.[0]?.totalTickets}}</h3>
                  <!-- } -->
                  <p>Avaliable Tickets</p>
                </div>
                <div class="col-xs-4">

                  <h3>{{min[i]}}</h3>
                  <p>Date</p>
                </div>
                <div class="col-xs-4">
                  <button
                    class="btn btn-secondary btnhover text-light fs-7 border-2 border-white rounded-pill px-3 py-1 mb-2 ">Show
                    More</button>
                </div>
              </div>
              <!-- } -->
              <!-- @if(event.tickets?.[i]?.totalTickets == 0){ -->
              <div class="col-xs-4 " *ngIf="event.tickets?.length == 0 ">
                <!-- @for(tickes of {{event.tickes}}; track $index) -->
                <h3>Sold Out</h3>
                <!-- } -->
              </div>
              <!-- } -->
            </div>
          </div>
        </div>
      </div>
      }
      @else{
      <!-- @for (user of users|search:term; track i) { -->
      <div *ngFor="let event of events|search:name; let i = index"
        class="profile-card-6 col-md-5 col-lg-3 col-9 m-2 mt-4  "><img src="../../../assets/imgs/event1.jpg"
          class="img img-responsive h-100 ">
        <div class="profile-name">{{event.title}}
          <br>{{event.location}}
        </div>
        <div class="profile-position">{{event.organizer}}</div>
        <div class="profile-overview">
          <div class="profile-overview ">
            <div class="row text-center ">
              <!-- @if(event.tickets?.[i]?.totalTickets){ -->
              <div>

                <div class="col-xs-4">
                  <!-- @for(tickes of {{event.tickes}}; track $index) -->
                  <h3>{{event.tickets?.[i]?.totalTickets}}</h3>
                  <!-- } -->
                  <p>Avaliable Tickets</p>
                </div>
                <div class="col-xs-4">

                  <h3>{{min[i]}}</h3>
                  <p>Date</p>
                </div>
                <div class="col-xs-4" *ngIf="event.tickets?.length != 0 ">
                  <button
                    class="btn btn-secondary btnhover text-light fs-7 border-2 border-white rounded-pill px-3 py-1 mb-2 ">Show
                    More</button>
                </div>
              </div>
              <!-- } -->
              <!-- @if(event.tickets?.[i]?.totalTickets == 0){ -->
              <div class="col-xs-4 " *ngIf="event.tickets?.length == 0 ">
                <!-- @for(tickes of {{event.tickes}}; track $index) -->
                <h3>Sold Out</h3>
                <!-- } -->
              </div>
              <!-- } -->
            </div>
          </div>
        </div>
      </div>
      }
      <!-- } -->
    </div>
  </div>
</body>

</html>